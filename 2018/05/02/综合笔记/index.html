<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />









  <meta name="keywords" content="项目," />










<meta name="description" content="day01-linux参考第一天的笔记 day02## linux系统下部署tomcat前提必须首先配置JAVA环境  查看是否配置java环境的命令：     java -version     如何显示java的版本信息，则代表配置java环境成功，如何没有任何显示或者错误显示，则需要参照第一天的《linux系统下配置java环境》文件，进行配置 部署1：通过SCP将tomcat拖拽到服务器中">
<meta name="keywords" content="项目">
<meta property="og:type" content="article">
<meta property="og:title" content="第四阶段综合笔记">
<meta property="og:url" content="http://yoursite.com/2018/05/02/综合笔记/index.html">
<meta property="og:site_name" content="AnJ">
<meta property="og:description" content="day01-linux参考第一天的笔记 day02## linux系统下部署tomcat前提必须首先配置JAVA环境  查看是否配置java环境的命令：     java -version     如何显示java的版本信息，则代表配置java环境成功，如何没有任何显示或者错误显示，则需要参照第一天的《linux系统下配置java环境》文件，进行配置 部署1：通过SCP将tomcat拖拽到服务器中">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://i.imgur.com/i3RYXMY.png">
<meta property="og:image" content="https://i.imgur.com/qdB5A3G.png">
<meta property="og:image" content="https://i.imgur.com/CbjPrzE.png">
<meta property="og:image" content="https://i.imgur.com/uAhF8jM.png">
<meta property="og:image" content="https://i.imgur.com/pt6dHEs.png">
<meta property="og:image" content="https://i.imgur.com/rpoWPvN.gif">
<meta property="og:image" content="https://i.imgur.com/s64PvIj.png">
<meta property="og:image" content="https://i.imgur.com/00bAIoi.gif">
<meta property="og:image" content="https://i.imgur.com/VEUekfJ.gif">
<meta property="og:image" content="https://i.imgur.com/euKNxIE.png">
<meta property="og:image" content="https://i.imgur.com/yxMYwP6.png">
<meta property="og:image" content="https://i.imgur.com/nKwv5Br.png">
<meta property="og:image" content="https://i.imgur.com/GdFNnE6.png">
<meta property="og:image" content="https://i.imgur.com/X92T38V.png">
<meta property="og:image" content="https://i.imgur.com/AWqWcB4.png">
<meta property="og:image" content="https://i.imgur.com/Foq0i0K.gif">
<meta property="og:image" content="https://i.imgur.com/Olv6xtA.gif">
<meta property="og:image" content="https://i.imgur.com/PgTUw19.png">
<meta property="og:image" content="https://i.imgur.com/zRmUkNF.png">
<meta property="og:image" content="https://i.imgur.com/ZdFTdGt.png">
<meta property="og:image" content="https://i.imgur.com/42B6tkd.png">
<meta property="og:image" content="https://i.imgur.com/1YkWZVB.png">
<meta property="og:image" content="https://i.imgur.com/7rGu5JI.png">
<meta property="og:image" content="https://i.imgur.com/nS0sDEd.png">
<meta property="og:image" content="https://i.imgur.com/tIbdpL5.png">
<meta property="og:image" content="https://i.imgur.com/rUyy9qq.png">
<meta property="og:image" content="https://i.imgur.com/Mu8amo4.png">
<meta property="og:updated_time" content="2018-05-02T12:57:56.822Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="第四阶段综合笔记">
<meta name="twitter:description" content="day01-linux参考第一天的笔记 day02## linux系统下部署tomcat前提必须首先配置JAVA环境  查看是否配置java环境的命令：     java -version     如何显示java的版本信息，则代表配置java环境成功，如何没有任何显示或者错误显示，则需要参照第一天的《linux系统下配置java环境》文件，进行配置 部署1：通过SCP将tomcat拖拽到服务器中">
<meta name="twitter:image" content="https://i.imgur.com/i3RYXMY.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/05/02/综合笔记/"/>





  <title>第四阶段综合笔记 | AnJ</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">AnJ</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/02/综合笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AnJie">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AnJ">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">第四阶段综合笔记</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-02T20:50:40+08:00">
                2018-05-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/jAVA框架/" itemprop="url" rel="index">
                    <span itemprop="name">jAVA框架</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="day01-linux"><a href="#day01-linux" class="headerlink" title="day01-linux"></a>day01-linux</h1><pre><code>参考第一天的笔记
</code></pre><h1 id="day02"><a href="#day02" class="headerlink" title="day02"></a>day02</h1><p>##</p>
<h2 id="linux系统下部署tomcat"><a href="#linux系统下部署tomcat" class="headerlink" title="linux系统下部署tomcat"></a>linux系统下部署tomcat</h2><h4 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h4><pre><code>必须首先配置JAVA环境

查看是否配置java环境的命令：
    java -version
    如何显示java的版本信息，则代表配置java环境成功，如何没有任何显示或者错误显示，则需要参照第一天的《linux系统下配置java环境》文件，进行配置
</code></pre><h4 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h4><pre><code>1：通过SCP将tomcat拖拽到服务器中
</code></pre><p><img src="https://i.imgur.com/i3RYXMY.png" alt=""></p>
<pre><code>2：进入到tomcat的bin目录，ctrl+A，全选授权
</code></pre><p><img src="https://i.imgur.com/qdB5A3G.png" alt=""></p>
<pre><code>3：暂时可以清除webapps目录下和logs目录下的所有文件
</code></pre><h4 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h4><pre><code>进入到tomcat的bin目录，执行如下命令
    ./startup.sh

查看是否启动成功有两种方式：
    - 查看启动日志，没有报错并且出现耗时多长时间，即可

        cd ..
        cd logs
        tail -n -200 -f catalina.out

    - 查看tomcat进程信息

        ps -ef|grep tomcat
</code></pre><p><img src="https://i.imgur.com/CbjPrzE.png" alt=""></p>
<h4 id="停止"><a href="#停止" class="headerlink" title="停止"></a>停止</h4><pre><code>停止tomcat有两种方式：

1：使用命令停止，如下
    首先切换到bin目录，执行：
    ./shutdown.sh
</code></pre><p><img src="https://i.imgur.com/uAhF8jM.png" alt=""></p>
<pre><code>2：杀死进程停止tomcat

    kill -9 进程号


验证是否停止成功，可以使用查看tomcat进程命令，如果显示如下，则代表停止成功。
</code></pre><p><img src="https://i.imgur.com/pt6dHEs.png" alt=""></p>
<h2 id="开发工具搭建"><a href="#开发工具搭建" class="headerlink" title="开发工具搭建"></a>开发工具搭建</h2><h4 id="配置JDK"><a href="#配置JDK" class="headerlink" title="配置JDK"></a>配置JDK</h4><pre><code>参考下图
</code></pre><p><img src="https://i.imgur.com/rpoWPvN.gif" alt=""></p>
<h4 id="配置Tomcat"><a href="#配置Tomcat" class="headerlink" title="配置Tomcat"></a>配置Tomcat</h4><pre><code>tomcat是一款开源的项目应用服务器，目前已经更新到tomcat9版本，从tomcat7以后，新增支持基于协议的长连接websocket功能(比较耗费服务器资源)
</code></pre><p>目录说明：</p>
<p><img src="https://i.imgur.com/s64PvIj.png" alt=""></p>
<p>myeclipse中配置tomcat步骤，参考下图：</p>
<p><img src="https://i.imgur.com/00bAIoi.gif" alt=""></p>
<h4 id="配置Maven"><a href="#配置Maven" class="headerlink" title="配置Maven"></a>配置Maven</h4><pre><code>1：命令行

    mvn test 测试命令
    mvn bulid 构建命令----不会生成war、jar包到中央仓库
    mvn clear  清除命令
    mvn install 初始化构建命令---会生成war、jar包到中央仓库


2：将maven配置到开发工具中
    eg：eclipse\myeclipse\IDEA等
</code></pre><p>myeclipse中配置maven步骤，参考下图：</p>
<p><img src="https://i.imgur.com/VEUekfJ.gif" alt=""></p>
<h3 id="开发工具快捷键"><a href="#开发工具快捷键" class="headerlink" title="开发工具快捷键"></a>开发工具快捷键</h3><pre><code>ctrl+N：新建
ctrl+1：提示错误信息
ctrl+D：删除
ctrl+/：行注释
ctrl+\：取消行注释
ctrl+shift+/：代码段注释
ctrl+shift+\：取消代码段注释
ctrl+H：快速查找任何文件信息、字符信息
ctrl+shift+O：导包
ctrl+T：查找类(支持模糊查找)
ctrl+R：查找文件（支持模糊查找、支持资源文件查找）
ctrl+shift+I：debug模式下，查看当前执行代码信息
ctrl+G：定位文件(不常用)
</code></pre><h3 id="DEBUG模式快捷键"><a href="#DEBUG模式快捷键" class="headerlink" title="DEBUG模式快捷键"></a>DEBUG模式快捷键</h3><pre><code>F5：进入到方法内
F6：执行下一步
F7：跳出方法外
F8：执行到下一个断点
</code></pre><h1 id="day03"><a href="#day03" class="headerlink" title="day03"></a>day03</h1><h2 id="企业类型、项目类型、企业IT组成"><a href="#企业类型、项目类型、企业IT组成" class="headerlink" title="企业类型、项目类型、企业IT组成"></a>企业类型、项目类型、企业IT组成</h2><p><img src="https://i.imgur.com/euKNxIE.png" alt=""></p>
<p><img src="https://i.imgur.com/yxMYwP6.png" alt=""></p>
<h2 id="项目研发流程、人员搭配"><a href="#项目研发流程、人员搭配" class="headerlink" title="项目研发流程、人员搭配"></a>项目研发流程、人员搭配</h2><p><img src="https://i.imgur.com/nKwv5Br.png" alt=""></p>
<p><img src="https://i.imgur.com/GdFNnE6.png" alt=""></p>
<h2 id="发展路线"><a href="#发展路线" class="headerlink" title="发展路线"></a>发展路线</h2><p><img src="https://i.imgur.com/X92T38V.png" alt=""></p>
<h2 id="常使用软件汇总"><a href="#常使用软件汇总" class="headerlink" title="常使用软件汇总"></a>常使用软件汇总</h2><p><img src="https://i.imgur.com/AWqWcB4.png" alt=""></p>
<h2 id="BUG、需求变更如何处理（分析日志、定位问题）"><a href="#BUG、需求变更如何处理（分析日志、定位问题）" class="headerlink" title="BUG、需求变更如何处理（分析日志、定位问题）"></a>BUG、需求变更如何处理（分析日志、定位问题）</h2><p>代码版本控制器：</p>
<pre><code>SVN、GIT：

    注意事项：
        1：修改代码之前，需要从SVN更新代码
        2：提交之前，需要增加提交注释
        3：在添加完注释之后，需要再次更新SVN代码，才能提交

    注释规范：
            //start likang  2018年4月18日11:27:36 ==TODO ......
                //if(true){
                //    sysou(&quot;123&quot;)
                //}
                if(true){sysout(&quot;3434&quot;)}
            //end
</code></pre><p>bug：</p>
<pre><code>淡定、淡定、淡定

本地环境：

    前端：不需要处理
    后台：
        需要看控制台
            1：清除控制台信息
            2：重现问题
            3：从下网上看，找第一个case by......

    网络：找运维


测试环境：

    前端：不需要处理
    后台：
        日志文件：
            1：获取日志文件
            2：从上往下看，找第一个case by.....


    网络：找运维
    数据：不需要管




正式环境(生产环境、线上环境)：


    前端：不需要处理
    后台：
        日志文件：
            1：找运维获取日志文件
            2：从上往下看，找第一个case by.....

    网络：找运维
    数据：找运维，将当期的有问题的数据库，备份导出、将数据库备份文件还原到测试环境


        oracle：exp、expdb（建议使用：数据泵）
                imp、impdb
</code></pre><p>需求变更：</p>
<pre><code>1：原需求的变更

    - 分析需求变更的工作量(评估)
    - 分析需求的优先级、紧急度
        - 发邮件回复（肯定会处理、开发计划、申请技术支持、风险）



2：新增需求的变更

    - 评估工作量
    - 分析需求的优先级、紧急度
</code></pre><p>待遇：</p>
<pre><code>基本工资+年终奖、双薪+其它补助（饭补）

基本工资+1月奖金

季度奖、项目奖金：

KPI:

    员工每个月都会评价一次结果
    自评：97
    项目经理：95
    部门经理：93

        最终：93

    90+：1200
    70-90:800:
    60-70:500
    60-：考虑
</code></pre><p>BUG管理系统：</p>
<pre><code>禅道跟踪管理系统：

报表：
    BUG处理排行榜：
    BUG处理情况：
</code></pre><h2 id="如何部署补丁文件、如何上线"><a href="#如何部署补丁文件、如何上线" class="headerlink" title="如何部署补丁文件、如何上线"></a>如何部署补丁文件、如何上线</h2><p>代码补丁：</p>
<pre><code>出具步骤：
</code></pre><p><img src="https://i.imgur.com/Foq0i0K.gif" alt=""></p>
<pre><code>出具规范：

    必须要有补丁说明：

        解决人：
        解决问题：
        解决时间：
        联系方式：



        部署说明：


            1：解压....文件到...，覆盖、复制、删除
            2：执行...&gt;sql脚本
            3：停止服务器、重新部署、清除缓存
</code></pre><p>脚本补丁：</p>
<p><img src="https://i.imgur.com/Olv6xtA.gif" alt=""></p>
<p>文档补丁：</p>
<pre><code>文档最上面，《修改记录》，提交SVN
</code></pre><h2 id="数据库、数据库服务器、框架、架构"><a href="#数据库、数据库服务器、框架、架构" class="headerlink" title="数据库、数据库服务器、框架、架构"></a>数据库、数据库服务器、框架、架构</h2><p>数据库：</p>
<pre><code>databasename
</code></pre><p>数据库服务器：</p>
<pre><code>mysql、oracle、SqlServer、db2、derby
</code></pre><p>框架：</p>
<pre><code>spring\springMVC\mybatis\hibernater\spring boot\struts2

SSM\SSH\SM:整合框架
</code></pre><p>架构：</p>
<pre><code>C/S：
B/S：

微服务、SOA区别：
</code></pre><h2 id="分布式、集群、高并发、负载、缓存、云端"><a href="#分布式、集群、高并发、负载、缓存、云端" class="headerlink" title="分布式、集群、高并发、负载、缓存、云端"></a>分布式、集群、高并发、负载、缓存、云端</h2><p>分布式：</p>
<pre><code>不同的业务，不同的模块，不同的功能，分别部署到不同的服务器
</code></pre><p>集群：</p>
<pre><code>相同的业务，相同的模块，相同的功能，分别部署到不同的服务器
</code></pre><p>高并发：</p>
<pre><code>同一时刻，N多人，同时访问同一个功能
</code></pre><p>负载（均衡）：</p>
<pre><code>某一个时间段内，服务器所支持的最大访问人数（求平均值）
</code></pre><p>缓存：</p>
<pre><code>提高服务器性能，和用户体验的，提高服务器访问的事务安全性
</code></pre><p>云：</p>
<pre><code>腾讯云、阿里云、七牛云等
</code></pre><h2 id="小明的故事"><a href="#小明的故事" class="headerlink" title="小明的故事"></a>小明的故事</h2><p><img src="https://i.imgur.com/PgTUw19.png" alt=""></p>
<h2 id="层次架构（技术选型）"><a href="#层次架构（技术选型）" class="headerlink" title="层次架构（技术选型）"></a>层次架构（技术选型）</h2><p><img src="https://i.imgur.com/zRmUkNF.png" alt=""></p>
<hr>
<h1 id="day04"><a href="#day04" class="headerlink" title="day04"></a>day04</h1><h2 id="技术架构"><a href="#技术架构" class="headerlink" title="技术架构"></a>技术架构</h2><p><img src="https://i.imgur.com/ZdFTdGt.png" alt=""></p>
<h2 id="负载架构"><a href="#负载架构" class="headerlink" title="负载架构"></a>负载架构</h2><p><img src="https://i.imgur.com/42B6tkd.png" alt=""></p>
<h2 id="二维码工具类"><a href="#二维码工具类" class="headerlink" title="二维码工具类"></a>二维码工具类</h2><p>开发步骤：</p>
<pre><code>1：新建一个web project或者java project
2：导入二维码所需jar包
3：编写生成二维码的java类，运行main方法即可
</code></pre><p>代码参考下图</p>
<p><img src="https://i.imgur.com/1YkWZVB.png" alt=""></p>
<h1 id="项目1—–【CRM客户管理系统】"><a href="#项目1—–【CRM客户管理系统】" class="headerlink" title="项目1—–【CRM客户管理系统】"></a>项目1—–【CRM客户管理系统】</h1><h2 id="调研"><a href="#调研" class="headerlink" title="调研"></a>调研</h2><pre><code>略
</code></pre><h2 id="产品"><a href="#产品" class="headerlink" title="产品"></a>产品</h2><pre><code>略
</code></pre><h2 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h2><pre><code>参考《01_CRM需求概要文档V1.0》
</code></pre><h2 id="UI"><a href="#UI" class="headerlink" title="UI"></a>UI</h2><pre><code>略
</code></pre><h2 id="开发"><a href="#开发" class="headerlink" title="开发"></a>开发</h2><p>技术选型：</p>
<pre><code>SSM、MYSQL57、tomcat7、jdk1.7、boostrap、anglur.js、quartz、ehcache、富文本编辑器(百度编辑器)
</code></pre><p>框架搭建：</p>
<pre><code>数据库设计：
    数据库名称=工程名称CRM_16
    表设计：
        表字符：utf-8、utf8
        表字段：
            主键、bigint(20) 自增、（32） UUID、不能为空
        索引：
            外键、关联字段、查询比较频繁的字段
        单表：500M、索引个数16个
        临时表、存储过程、视图、触发器、监听器（后面课程讲）


数据库优化原则：

        后面课程讲
</code></pre><p>CRM数据库表设计说明：</p>
<pre><code>参考脚本文件《crm.sql》

hj_user 用户表
    userid 用户主键
    roleid  角色主键
    deptid 部门主键

hj_role 角色表
    roleid 角色ID
    deptid 部门ID

hj_dept 部门表
    deptid 部门ID
    deptparaid 上一级部门ID

hj_menu 菜单表
    menuid 菜单主键ID
    menuparaid 上一级菜单ID

hj_role_menu  角色-菜单关系表
    roleid 角色ID
    menuid 菜单ID
</code></pre><p>SQL需求:</p>
<pre><code>需求1：查询用户ID=2的信息： 用户ID，用户名，角色ID，角色名称，部门ID，部门名称

    select
        u.userid,u.username,u.roleid,r.rolename,u.deptid,d.deptname
    from hj_user u
    left join hj_role r on r.roleid = u.roleid
    left join hj_dept d on d.deptid = u.deptid
    where u.userid = 2;

需求2：查询角色ID=2所属的菜单信息：角色ID，角色名称，菜单ID，菜单名称

    select 
        rm.roleid,r.rolename,rm.menuid,m.menuname
    from hj_role_menu rm
    left join hj_role r on r.roleid = rm.roleid
    left join hj_menu m on m.menuid = rm.menuid
    where rm.roleid = 2;

    select 
        rm.roleid,r.rolename,rm.menuid, 
        -- group_concat()
        group_concat(m.menuname separator &apos;,&apos;) menuname
    from hj_role_menu rm
    left join hj_role r on r.roleid = rm.roleid
    left join hj_menu m on m.menuid = rm.menuid
    group by r.rolename;


需求3：查询系统管理（菜单ID=1）所有下级菜单

    select * 
    from  hj_menu m
    where m.menuparaid = 1;

需求4：查询所有的上级菜单信息    
    select * 
    from  hj_menu m
    where m.menuparaid is null;
</code></pre><p>项目工程搭建步骤：</p>
<pre><code>1：新建一个web project工程CRM_16
2：解压FTP中CRM压缩包到本地文件夹
3：工程名右键，选择build path，选中最后一个选项，将tomcat的jar包导入工程
4：复制压缩文件中的webroot文件夹“内”的文件，到工程的WebROOT文件夹下
5：复制lib文件夹下的jar包复制到工程中
6：取消前端文件验证表达式错误，操作步骤，参考下图
</code></pre><p><img src="https://i.imgur.com/7rGu5JI.png" alt=""></p>
<p>框架代码：</p>
<p>web.xml:</p>
<pre><code>通用性设置如下：

  &lt;!-- spring配置文件信息 --&gt;
  &lt;!-- springMVC配置文件信息 --&gt;

  &lt;!-- 编码格式 --&gt;
  &lt;!-- 日志信息 --&gt;
  &lt;!-- session有效期 --&gt;
  &lt;!-- 404、500 --&gt;
  &lt;!-- 请求后缀拦截.do(后台管理系统)，.htm(前端网站) --&gt;



&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;web-app version=&quot;2.5&quot; 
    xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; 
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; 
    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee 
    http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;
  &lt;display-name&gt;CRM_16&lt;/display-name&gt;    

  &lt;!-- spring配置文件信息 --&gt;
      &lt;context-param&gt;
        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
        &lt;param-value&gt;classpath:applicationContext.xml&lt;/param-value&gt;
      &lt;/context-param&gt;
      &lt;listener&gt;
        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;
    &lt;/listener&gt;
  &lt;!-- springMVC配置文件信息 --&gt;
    &lt;servlet&gt;
        &lt;servlet-name&gt;crm_16&lt;/servlet-name&gt;
        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
            &lt;param-value&gt;classpath:context-dispatcher.xml&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;!-- 启用即加载 --&gt;
        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
    &lt;/servlet&gt;

    &lt;!-- 请求后缀拦截.do(后台管理系统)，.htm(前端网站) --&gt;
  &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;crm_16&lt;/servlet-name&gt;
        &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;

  &lt;!-- 编码格式UTF-8 --&gt;
    &lt;filter&gt;
        &lt;filter-name&gt;encodingFilter&lt;/filter-name &gt;
        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;encoding&lt;/param-name&gt;
            &lt;param-value&gt;UTF-8&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;forceEncoding&lt;/param-name&gt;
            &lt;param-value&gt;true&lt;/param-value&gt;
        &lt;/init-param&gt;
    &lt;/filter&gt;
    &lt;filter-mapping&gt;
        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;
        &lt;url-pattern&gt;*&lt;/url-pattern&gt;
    &lt;/filter-mapping&gt;

  &lt;!-- 日志信息 --&gt;
    &lt;context-param&gt;
        &lt;param-name&gt;log4jConfigLocation&lt;/param-name&gt;
        &lt;param-value&gt;classpath:/log4j.xml&lt;/param-value&gt;
    &lt;/context-param&gt;
    &lt;!-- 加载log4j配置文件 --&gt;
    &lt;listener&gt;
        &lt;listener-class&gt;org.springframework.web.util.Log4jConfigListener&lt;/listener-class&gt;
    &lt;/listener&gt;


  &lt;!-- session有效期 --&gt;
  &lt;session-config&gt;
      &lt;session-timeout&gt;120&lt;/session-timeout&gt;&lt;!-- 默认的是分钟 --&gt;
  &lt;/session-config&gt;
  &lt;!-- 404、500 --&gt;
  &lt;error-page&gt;
      &lt;error-code&gt;404&lt;/error-code&gt;
      &lt;location&gt;/404.do&lt;/location&gt;
  &lt;/error-page&gt;
  &lt;error-page&gt;
      &lt;error-code&gt;500&lt;/error-code&gt;
      &lt;location&gt;/500.do&lt;/location&gt;
  &lt;/error-page&gt;

    &lt;!-- 首页信息(可选) --&gt;
    &lt;welcome-file-list&gt;
        &lt;welcome-file&gt;/index.do&lt;/welcome-file&gt;
    &lt;/welcome-file-list&gt;
&lt;/web-app&gt;
</code></pre><p>连接池：</p>
<pre><code>c3p0:
阿里:

问题：
    1：游标越界
    2：事务连接次数过多  too  many  connect

解决方式：

    参考代码
</code></pre><h3 id="登录页面跳转"><a href="#登录页面跳转" class="headerlink" title="登录页面跳转"></a>登录页面跳转</h3><p>开发步骤：</p>
<pre><code>1：获取跳转页面的接口地址(前端获取)
2：增加controller类进行页面跳转
</code></pre><p>代码示例：</p>
<p>UserLoginController.java:</p>
<pre><code>/**
 * 登录首页
 * @author likang
 * @date   2018-4-19 下午5:33:34
 */
@Controller
public class UserLoginController {


    /**
     * 跳转登录页面
     * @param model
     * @return
     */
    @RequestMapping(value = &quot;/login.do&quot;,method = RequestMethod.GET)
    public String index(Model model){
        return JumpViewConstants.SYSTEM_LOGIN;
    }
}
</code></pre><p>页面展示：</p>
<p><img src="https://i.imgur.com/nS0sDEd.png" alt=""></p>
<h3 id="登录"><a href="#登录" class="headerlink" title="登录"></a>登录</h3><p>开发步骤:</p>
<pre><code>1：通过点击【登录】按钮，获取登录的接口地址
2：在UserLoginController类中，增加登录接口
3：首先判断用户名是否存在，其次判断匹配是否匹配
4：处理session问题
</code></pre><p>代码如下：</p>
<p>UserLoginController.java:</p>
<pre><code>/**
 * 登录首页
 * @author likang
 * @date   2018-4-19 下午5:33:34
 */
@Controller
public class UserLoginController {


    @Autowired
    private IUserService userService;

    /**
     * 跳转登录页面
     * @param model
     * @return
     */
    @RequestMapping(value = &quot;/login.do&quot;,method = RequestMethod.GET)
    public String index(Model model){
        return JumpViewConstants.SYSTEM_LOGIN;
    }

    /**
     * 登录功能
     * @param request
     * @param email  用户名
     * @param password 密码
     * @param sign
     * @return
     */
    @RequestMapping(value = &quot;/login.do&quot;,method = RequestMethod.POST)
    public String login(HttpServletRequest request,String email,String password,String sign,Model model){
//        if (email != null &amp;&amp; !&quot;&quot;.equals(email)) {
//            
//        }
        //isnotblank:判断参数是否为空和“”
        //isNotEmpty：只会判断参数是否为null
        if (StringUtils.isNotBlank(email) &amp;&amp; StringUtils.isNotBlank(password)) {
            //利用spring容器获取map中的属性值
            email = email + ContextUtil.getInitConfig(&quot;email_suffix&quot;);

            //验证用户名是否存在
            User user = userService.queryUserByEmail(email);
            if (user == null) {//用户不存在
//                model.addAttribute(ReturnConstants.USER_NOT_EXIST);
                model.addAttribute(&quot;msg&quot;, ReturnConstants.USER_NOT_EXIST);
                return JumpViewConstants.SYSTEM_LOGIN;
            }
            //验证密码是否匹配
            boolean isExis = userService.isExisPassword(String.valueOf(user.getUserid()), password);
            if (!isExis) {
//                model.addAttribute(ReturnConstants.PASSWORD_ERROR);
                model.addAttribute(&quot;msg&quot;, ReturnConstants.PASSWORD_ERROR);
                return JumpViewConstants.SYSTEM_LOGIN;
            }
            //cookie
            //TODO......

            //处理session
            UserContext.setLoginUser(user);
            request.getSession(true).setAttribute(&quot;loginName&quot;, user.getUsername());
            request.getSession(true).setAttribute(&quot;ischange&quot;, user.getIschange());
            //跳转成功首页
            return JumpViewConstants.SYSTEM_INDEX;
        }
        return ReturnConstants.PARAM_NULL;//接收参数为空
    }

}
</code></pre><p>IUserService.java:</p>
<pre><code>/**
 * 用户信息接口
 * @author likang
 * @date   2018-4-23 上午9:36:12
 */
public interface IUserService {

    /**
     * 根据邮箱查询用户信息
     * @param email 邮箱
     * @return
     */
    public User queryUserByEmail(String email);

    /**
     * 验证密码是否匹配
     * @param userid 用户主键ID
     * @param password  密码
     * @return
     */
    public boolean isExisPassword(String userid,String password);
}
</code></pre><p>UserServiceImpl.java:</p>
<pre><code>@Service
@Transactional(rollbackFor=Exception.class)
public class UserServiceImpl implements IUserService{

//    @Resource//首先按照名称匹配，其次按照类型匹配
    @Autowired//只会按照类型匹配(推荐使用)
    IDataAccess&lt;User&gt; userDao;

    public User queryUserByEmail(String email) {

        Map&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();
        param.put(&quot;email&quot;, email);
        List&lt;User&gt; list = userDao.queryByStatment(&quot;queryUserByEmail&quot;, param, null);
        if (list != null &amp;&amp; list.size() &gt; 0) {
            return list.get(0);
        }
        return null;
    }

    public boolean isExisPassword(String userid, String password) {
        Map&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();
        param.put(&quot;userid&quot;, userid);
        param.put(&quot;password&quot;, MD5Tools.encode(password));
        List&lt;User&gt; list = userDao.queryByStatment(&quot;isExisPassword&quot;, param, null);
        if (list != null &amp;&amp; list.size() &gt; 0) {
            return true;
        }

        return false;
    }
}
</code></pre><p>UserMapper.xml:</p>
<pre><code>&lt;!-- 查询用户是否存在 --&gt;
&lt;select id=&quot;queryUserByEmail&quot; parameterType=&quot;java.util.Map&quot; resultType=&quot;com.hjcrm.system.entity.User&quot;&gt;
     select
        u.userid,u.username,u.email,u.roleid,u.deptid,u.ischange
    from hj_user u
    where u.email = #{email}
&lt;/select&gt;

&lt;!-- 查询用户密码是否匹配--&gt;
&lt;select id=&quot;isExisPassword&quot; parameterType=&quot;java.util.Map&quot; resultType=&quot;com.hjcrm.system.entity.User&quot;&gt;
     select
        u.userid,u.username,u.email,u.roleid,u.deptid
    from hj_user u
    where u.userid = #{userid} and u.password = #{password}
&lt;/select&gt;
</code></pre><p>mybatis-config.xml:</p>
<pre><code>&lt;mappers&gt;
    &lt;mapper resource=&quot;commonsqlmappings/CommonMapper.xml&quot; /&gt;
    &lt;mapper resource=&quot;mybatis/UserMapper.xml&quot;/&gt;
&lt;/mappers&gt;
</code></pre><h3 id="登录功能-首页访问–完善功能"><a href="#登录功能-首页访问–完善功能" class="headerlink" title="登录功能-首页访问–完善功能"></a>登录功能-首页访问–完善功能</h3><p>代码如下：</p>
<p>UserLoginController.java:</p>
<pre><code>/**
 * 登录首页
 * @author likang
 * @date   2018-4-19 下午5:33:34
 */
@Controller
public class UserLoginController {


    @Autowired
    private IUserService userService;

    /**
     * 跳转登录页面
     * @param model
     * @return
     */
    @RequestMapping(value = &quot;/login.do&quot;,method = RequestMethod.GET)
    public String index(Model model){
        if (UserContext.getLoginUser() != null) {
            return &quot;redirect:/main.do&quot;;
        }
        return JumpViewConstants.SYSTEM_LOGIN;
    }

    /**
     * 主页面
     * @param model
     * @return
     */
    @RequestMapping(value = &quot;/main.do&quot;,method = RequestMethod.GET)
    public String main(Model model){
        if (UserContext.getLoginUser() != null) {
            return JumpViewConstants.SYSTEM_INDEX;
        }
        return JumpViewConstants.SYSTEM_LOGIN;
    }

    /**
     * 登录功能
     * @param request
     * @param email  用户名
     * @param password 密码
     * @param sign
     * @return
     */
    @RequestMapping(value = &quot;/login.do&quot;,method = RequestMethod.POST)
    public String login(HttpServletRequest request,String email,String password,String sign,Model model){
//        if (email != null &amp;&amp; !&quot;&quot;.equals(email)) {
//            
//        }
        //isnotblank:判断参数是否为空和“”
        //isNotEmpty：只会判断参数是否为null
        if (StringUtils.isNotBlank(email) &amp;&amp; StringUtils.isNotBlank(password)) {
            //利用spring容器获取map中的属性值
            email = email + ContextUtil.getInitConfig(&quot;email_suffix&quot;);

            //验证用户名是否存在
            User user = userService.queryUserByEmail(email);
            if (user == null) {//用户不存在
//                model.addAttribute(ReturnConstants.USER_NOT_EXIST);
                model.addAttribute(&quot;msg&quot;, ReturnConstants.USER_NOT_EXIST);
                return JumpViewConstants.SYSTEM_LOGIN;
            }
            //验证密码是否匹配
            boolean isExis = userService.isExisPassword(String.valueOf(user.getUserid()), password);
            if (!isExis) {
//                model.addAttribute(ReturnConstants.PASSWORD_ERROR);
                model.addAttribute(&quot;msg&quot;, ReturnConstants.PASSWORD_ERROR);
                return JumpViewConstants.SYSTEM_LOGIN;
            }
            //cookie
            //TODO......

            //处理session
            UserContext.setLoginUser(user);
            request.getSession(true).setAttribute(&quot;loginName&quot;, user.getUsername());
            request.getSession(true).setAttribute(&quot;ischange&quot;, user.getIschange());
            //跳转成功首页
//            return JumpViewConstants.SYSTEM_INDEX;
            return &quot;redirect:/main.do&quot;;
        }
        return ReturnConstants.PARAM_NULL;//接收参数为空
    }
}
</code></pre><h3 id="登录功能-cookie问题"><a href="#登录功能-cookie问题" class="headerlink" title="登录功能-cookie问题"></a>登录功能-cookie问题</h3><p>开发步骤：</p>
<pre><code>1：为了解决用户端禁用浏览器cookie第三方数据的问题
2：只需要在服务器中保存一份cookie即可，同步到浏览器客户端
</code></pre><p>示例代码：</p>
<p>UserLoginController.java:</p>
<pre><code>private static final String COOKIE_KEY = &quot;_auth_&quot;;
private static final String COOKIE_SPI = &quot;_#_&quot;;

/**
     * 登录功能
     * @param request
     * @param email  用户名
     * @param password 密码
     * @param sign
     * @return
     */
    @RequestMapping(value = &quot;/login.do&quot;,method = RequestMethod.POST)
    public String login(HttpServletRequest request,HttpServletResponse response,String email,String password,String sign,Model model){
//        if (email != null &amp;&amp; !&quot;&quot;.equals(email)) {
//            
//        }
        //isnotblank:判断参数是否为空和“”
        //isNotEmpty：只会判断参数是否为null
        if (StringUtils.isNotBlank(email) &amp;&amp; StringUtils.isNotBlank(password)) {
            //利用spring容器获取map中的属性值
            email = email + ContextUtil.getInitConfig(&quot;email_suffix&quot;);

            //验证用户名是否存在
            User user = userService.queryUserByEmail(email);
            if (user == null) {//用户不存在
//                model.addAttribute(ReturnConstants.USER_NOT_EXIST);
                model.addAttribute(&quot;msg&quot;, ReturnConstants.USER_NOT_EXIST);
                return JumpViewConstants.SYSTEM_LOGIN;
            }
            //验证密码是否匹配
            boolean isExis = userService.isExisPassword(String.valueOf(user.getUserid()), password);
            if (!isExis) {
//                model.addAttribute(ReturnConstants.PASSWORD_ERROR);
                model.addAttribute(&quot;msg&quot;, ReturnConstants.PASSWORD_ERROR);
                return JumpViewConstants.SYSTEM_LOGIN;
            }
            //cookie
            Cookie cok = new Cookie(COOKIE_KEY, URLEncoder.encode(user.getUsername())+COOKIE_SPI+MD5Tools.encode(user.getEmail()));
            cok.setPath(&quot;/&quot;);
            cok.setMaxAge(-1);//-1：立即创建，并且在登录成功之后，就生效
                               //0：在客户端关闭浏览器之后，即失效
            response.addCookie(cok);
            //处理session
            UserContext.setLoginUser(user);
            request.getSession(true).setAttribute(&quot;loginName&quot;, user.getUsername());
            request.getSession(true).setAttribute(&quot;ischange&quot;, user.getIschange());
            //跳转成功首页
//            return JumpViewConstants.SYSTEM_INDEX;
            return &quot;redirect:/main.do&quot;;
        }
        return ReturnConstants.PARAM_NULL;//接收参数为空
    }
</code></pre><h2 id="退出功能"><a href="#退出功能" class="headerlink" title="退出功能"></a>退出功能</h2><p>开发步骤：</p>
<pre><code>1：清除session信息
2：清除存放于服务器中的cookie数据
3：清除客户端中的cookie数据
4：跳转登录页面即可
</code></pre><p>示例代码：</p>
<p>UserLoginController.java:</p>
<pre><code>/**
     * 退出
     * @param request
     * @return
     */
    @RequestMapping(value = &quot;/logout.do&quot;,method = RequestMethod.GET)
    public String logout(HttpServletRequest request,HttpServletResponse response){
        //清除session
        UserContext.clearLoginUser();
        //清除服务器中的cookie数据
        Cookie cok = new Cookie(COOKIE_KEY,null);
        cok.setMaxAge(0);
        cok.setPath(&quot;/&quot;);
        response.addCookie(cok);
        //清除客户端中的cookie数据
        Cookie coksessionID = new Cookie(&quot;JSESSIONID&quot;,null);
        coksessionID.setMaxAge(0);
        coksessionID.setPath(request.getContextPath());
        response.addCookie(coksessionID);

        //跳转登录页面
        return &quot;redirect:/main.do&quot;;
    }
</code></pre><h2 id="登录成功-权限管理-左侧菜单展示功能"><a href="#登录成功-权限管理-左侧菜单展示功能" class="headerlink" title="登录成功-权限管理-左侧菜单展示功能"></a>登录成功-权限管理-左侧菜单展示功能</h2><p>开发步骤：</p>
<pre><code>1：根据登录成功用户的角色ID，查询对应的菜单信息，参考第一天的sql语句
2：首先查询一级菜单信息
3：循环遍历一级菜单信息，查询当前一级菜单对应的二级菜单信息
</code></pre><p>示例代码：</p>
<p>UserLoginController.java:</p>
<pre><code>/**
 * 主页面
 * @param model
 * @return
 */
@RequestMapping(value = &quot;/main.do&quot;,method = RequestMethod.GET)
public String main(Model model){
    if (UserContext.getLoginUser() != null) {
        //根据当前登录用户的角色，查询当前角色对应的菜单信息
        List&lt;Menu&gt; list = userService.queryMenusByRoleId(UserContext.getLoginUser().getRoleid().toString());
        model.addAttribute(&quot;menus&quot;, list);
        return JumpViewConstants.SYSTEM_INDEX;
    }
    return JumpViewConstants.SYSTEM_LOGIN;
}
</code></pre><p>IUserService.java:</p>
<pre><code>/**
 * 根据角色主键ID，查询当前角色对应的菜单信息
 * @param roleId 角色主键ID
 * @return
 */
public List&lt;Menu&gt; queryMenusByRoleId(String roleId);
</code></pre><p>UserServiceImpl.java:</p>
<pre><code>@Autowired
IDataAccess&lt;Menu&gt; menuDao;
public List&lt;Menu&gt; queryMenusByRoleId(String roleId) {

    Map&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();
    param.put(&quot;roleId&quot;, roleId);
    param.put(&quot;isparid&quot;, &quot;true&quot;);//判断sql语句的标识，不封装到sql执行语句当中
    //只查询一级菜单信息
    List&lt;Menu&gt; list = menuDao.queryByStatment(&quot;queryMenusByRoleId&quot;, param, null);
    if (list != null &amp;&amp; list.size() &gt; 0) {
        for (int i = 0; i &lt; list.size(); i++) {
            Long menuid = list.get(i).getMenuid();//一级菜单主键ID
            param.clear();
            param.put(&quot;roleId&quot;, roleId);
            param.put(&quot;menuparaid&quot;, menuid);//将一级菜单ID，当做二级菜单的父ID
            param.put(&quot;isparid&quot;, null);
            List&lt;Menu&gt; listch = menuDao.queryByStatment(&quot;queryMenusByRoleId&quot;, param, null);
            list.get(i).setChildren(listch);
        }
    }
    return list;
}
</code></pre><p>UserMapper.xml:</p>
<pre><code>&lt;!-- 查询用户角色ID，查询菜单信息--&gt;
&lt;select id=&quot;queryMenusByRoleId&quot; parameterType=&quot;java.util.Map&quot; resultType=&quot;com.hjcrm.system.entity.Menu&quot;&gt;
    select 
        rm.roleid,r.rolename,rm.menuid,m.menuname
    from hj_role_menu rm
    left join hj_role r on r.roleid = rm.roleid
    left join hj_menu m on m.menuid = rm.menuid
    &lt;if test=&quot; isparid != null and isparid !=&apos;&apos;&quot;&gt;
        where rm.roleid = #{roleId} and m.menuparaid is null
    &lt;/if&gt;
     &lt;if test=&quot; isparid == null&quot;&gt;
        where rm.roleid = #{roleId} and m.menuparaid = #{menuparaid}
    &lt;/if&gt;
&lt;/select&gt;
</code></pre><h4 id="页面展示："><a href="#页面展示：" class="headerlink" title="页面展示："></a>页面展示：</h4><p><img src="https://i.imgur.com/tIbdpL5.png" alt=""></p>
<h2 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h2><h3 id="页面跳转"><a href="#页面跳转" class="headerlink" title="页面跳转"></a>页面跳转</h3><p>开发步骤：</p>
<pre><code>1：通过前端找到接口地址
2：为菜单的查询添加url的字段
</code></pre><p>示例代码：</p>
<p>UserController.java:</p>
<pre><code>/**
 * 跳转用户管理页面
 * @param model
 * @return
 */
@RequestMapping(value = &quot;/system/userMang.do&quot;,method = RequestMethod.GET)
public String userManger(Model model){
    if (UserContext.getLoginUser() != null) {
        return JumpViewConstants.SYSTEM_USER_MANAGE;
    }
    return JumpViewConstants.SYSTEM_LOGIN;
}
</code></pre><h3 id="列表查询"><a href="#列表查询" class="headerlink" title="列表查询"></a>列表查询</h3><p>开发步骤：</p>
<pre><code>1：通过浏览器debug，获取接口地址（红色的404接口）
2：支持分页查询
</code></pre><p>示例代码：</p>
<p>UserController.java:</p>
<pre><code>/**
 * 用户管理模块
 * @author likang
 * @date   2018-4-23 下午4:55:12
 */
@Controller
public class UserController extends BaseController{


    @Autowired
    private IUserService userService;

    /**
     * 跳转用户管理页面
     * @param model
     * @return
     */
    @RequestMapping(value = &quot;/system/userMang.do&quot;,method = RequestMethod.GET)
    public String userManger(Model model){
        if (UserContext.getLoginUser() != null) {
            return JumpViewConstants.SYSTEM_USER_MANAGE;
        }
        return JumpViewConstants.SYSTEM_LOGIN;
    }

    /**
     * 查询用户信息列表
     * @param request
     * @param currentPage
     * @param pageSize
     * @return
     */
    @RequestMapping(value = &quot;/system/userlist.do&quot;,method = RequestMethod.GET)
    public @ResponseBody String queryUserList(HttpServletRequest request,Integer currentPage,Integer pageSize){
        List&lt;User&gt; list = userService.queryAllUser(processPageBean(pageSize, currentPage));
        return jsonToPage(list);
    }
}
</code></pre><p>IUserService.java:</p>
<pre><code>/**
 * 查询用户信息列表
 * @param pageBean
 * @return
 */
public List&lt;User&gt; queryAllUser(PageBean pageBean);
</code></pre><p>UserServiceImpl.java:</p>
<pre><code>public List&lt;User&gt; queryAllUser(PageBean pageBean) {
    List&lt;User&gt; list = userDao.queryByStatment(&quot;queryAllUser&quot;, null, pageBean);
    return list;
}
</code></pre><p>UserMapper.xml:</p>
<pre><code>&lt;!-- 查询用户信息列表--&gt;
&lt;select id=&quot;queryAllUser&quot; parameterType=&quot;java.util.Map&quot; resultType=&quot;com.hjcrm.system.entity.User&quot;&gt;
    select
        u.userid,u.username,u.email,u.roleid,u.deptid,u.ischange
    from hj_user u
&lt;/select&gt;
</code></pre><h3 id="增加、修改"><a href="#增加、修改" class="headerlink" title="增加、修改"></a>增加、修改</h3><p>开发步骤：</p>
<pre><code>1：通过前端获取增加、修改的接口地址
2：添加查询所有部门信息接口
3：添加根据部门ID查询当前部门下所有角色信息的接口
4：添加保存、修改的方法controller
5：根据是否存在用户主键ID，来区分到底是修改还是增加
6：增加和修改无需写sql语句
</code></pre><p>示例代码：</p>
<p>DeptController.java:</p>
<pre><code>/**
 * 部门管理模块
 * @author likang
 * @date   2018-4-24 上午9:06:29
 */
@Controller
public class DeptController extends BaseController{

    @Autowired
    private IDeptService deptService;

    /**
     * 查询所有部门信息
     * @param request
     * @return
     */
    @RequestMapping(value = &quot;/dept/queryDept.do&quot;,method = RequestMethod.GET)
    public @ResponseBody String queryAllDepts(HttpServletRequest request){
        List&lt;Dept&gt; list = deptService.queryAllDepts();
        return jsonToPage(list);
    }

    /**
     * 根据部门ID，查询当前部门下的角色信息列表
     * @param request
     * @param deptid 部门ID
     * @return
     */
    @RequestMapping(value = &quot;/role/queryRoleByDeptid.do&quot;,method =RequestMethod.GET)
    public @ResponseBody String queryRolesByDeptId(HttpServletRequest request,String deptid){
        List&lt;Role&gt; list = deptService.queryRolesByDeptId(deptid);
        return jsonToPage(list);
    }
}
</code></pre><p>IDeptService.java:</p>
<pre><code>/**
 * 部门信息接口
 * @author likang
 * @date   2018-4-24 上午9:08:04
 */
public interface IDeptService {

    /**
     * 查询所有的部门信息
     * @return
     */
    public List&lt;Dept&gt; queryAllDepts();

    /**
     * 根据部门ID，查询角色信息
     * @param deptid 部门ID
     * @return
     */
    public List&lt;Role&gt; queryRolesByDeptId(String deptid);
}
</code></pre><p>DeptServiceImpl.java:</p>
<pre><code>@Service
@Transactional(rollbackFor = Exception.class)
public class DeptServiceImpl implements IDeptService{

    @Autowired
    IDataAccess&lt;Dept&gt; deptDao;
    @Autowired
    IDataAccess&lt;Role&gt; roleDao;

    public List&lt;Dept&gt; queryAllDepts() {
        List&lt;Dept&gt; list = deptDao.queryByStatment(&quot;queryAllDepts&quot;, null, null);
        return list;
    }

    public List&lt;Role&gt; queryRolesByDeptId(String deptid) {
        Map&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();
        param.put(&quot;deptid&quot;, deptid);
        List&lt;Role&gt; list = roleDao.queryByStatment(&quot;queryRolesByDeptId&quot;, param, null);
        return list;
    }
}
</code></pre><p>DeptMapper.xml:</p>
<pre><code>&lt;mapper namespace=&quot;com.hjcrm.entity&quot;&gt;

    &lt;!-- 查询所有部门 --&gt;
    &lt;select id=&quot;queryAllDepts&quot; parameterType=&quot;java.util.Map&quot; resultType=&quot;com.hjcrm.system.entity.Dept&quot;&gt;
          select
            d.deptid,d.deptname,d.deptparaid
         from hj_dept d
    &lt;/select&gt;

    &lt;!-- 根据部门ID，查询角色信息 --&gt;
    &lt;select id=&quot;queryRolesByDeptId&quot; parameterType=&quot;java.util.Map&quot; resultType=&quot;com.hjcrm.system.entity.Role&quot;&gt;
           select
            r.roleid,r.rolename,r.deptid
         from hj_role r where r.deptid = #{deptid}
    &lt;/select&gt;
&lt;/mapper&gt; 
</code></pre><p>mybatis-config.xml:</p>
<pre><code>&lt;mappers&gt;
    &lt;mapper resource=&quot;commonsqlmappings/CommonMapper.xml&quot; /&gt;
    &lt;mapper resource=&quot;mybatis/UserMapper.xml&quot;/&gt;
    &lt;mapper resource=&quot;mybatis/DeptMapper.xml&quot;/&gt;
&lt;/mappers&gt;
</code></pre><p>UserController.java:</p>
<pre><code>/**
 * 增加\修改用户信息
 * @param request
 * @param user
 * @return
 */
@RequestMapping(value = &quot;/system/saveOrUpdate.do&quot;,method = RequestMethod.POST)
public @ResponseBody String saveOrUpdateUser(HttpServletRequest request,User user){
    if (user != null) {
        userService.saveOrUpdateUser(user);
        return ReturnConstants.SUCCESS;
    }
    return ReturnConstants.PARAM_NULL;
}
</code></pre><p>IUserService.java:</p>
<pre><code>/**
 * 增加、修改用户信息
 * @param user
 */
public void saveOrUpdateUser(User user);
</code></pre><p>UserServiceImpl.java:</p>
<pre><code>public void saveOrUpdateUser(User user) {
    if (user != null) {
        if (user.getUserid() != null) {//修改
            user.setUpdate_id(UserContext.getLoginUser().getUserid());
            user.setUpdate_time(new Timestamp(System.currentTimeMillis()));
            userDao.update(user);
        }else{//增加
            user.setCreate_id(UserContext.getLoginUser().getUserid());
            user.setCreate_time(new Timestamp(System.currentTimeMillis()));
            userDao.insert(user);
        }
    }
}
</code></pre><h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><p>开发步骤：</p>
<pre><code>1：通过前端找到删除的接口地址(支持批量删除，真正企业做的时候，接口是后台来定义)
2：增加删除的接口和方法
</code></pre><p>示例代码：</p>
<p>UserController.java:</p>
<pre><code>/**
 * 删除用户信息，支持批量删除
 * @param request
 * @param ids 用户主键ID，多个用逗号隔开
 * @return
 */
@RequestMapping(value = &quot;/system/deleteUser.do&quot;,method = RequestMethod.POST)
public @ResponseBody String deleteUsers(HttpServletRequest request,String ids){
    if (StringUtils.isNotBlank(ids)) {
        userService.deleteUserByIds(ids);
        return ReturnConstants.SUCCESS;
    }
    return ReturnConstants.PARAM_NULL;
}
</code></pre><p>IUserService.java:</p>
<pre><code>/**
 * 删除用户信息，批量删除
 * @param ids 用户主键ID，多个用逗号隔开
 */
public void deleteUserByIds(String ids);
</code></pre><p>UserServiceImpl.java:</p>
<pre><code>public void deleteUserByIds(String ids) {
    if (StringUtils.isNotBlank(ids)) {
        userDao.deleteByIds(User.class, ids);
    }
}
</code></pre><p>提示：</p>
<pre><code>1：课下回顾mysql的删除别名问题
2：课下练习mybatis中的for标签
</code></pre><h3 id="页面展示"><a href="#页面展示" class="headerlink" title="页面展示"></a>页面展示</h3><p><img src="https://i.imgur.com/rUyy9qq.png" alt=""></p>
<h2 id="测试环境项目部署过程"><a href="#测试环境项目部署过程" class="headerlink" title="测试环境项目部署过程"></a>测试环境项目部署过程</h2><p>系统环境：</p>
<pre><code>linux-CentOS7
</code></pre><p>使用工具：</p>
<pre><code>CRT\SCP
</code></pre><p>部署步骤：</p>
<pre><code>1：首先确认本地访问运行没有任何问题
2：导出本地的数据库脚本，将脚本文件在虚拟机服务器的数据库中执行
3：使用scp工具连接服务器，将本地tomcat的webapps目录下的项目，拖到虚拟机服务器tomcat的webapps目录下(可选：修改项目访问名称，ROOT在访问时，不需要输入)
4：修改虚拟机服务器中项目的jdbc配置文件，修改为虚拟机数据库的连接信息
5：使用crt工具，启动tomcat
6：本地访问服务器项目信息
</code></pre><p>注意事项：</p>
<pre><code>1：本地连接服务器的数据库，需要开启3306端口号(防火墙允许3306端口允许)
    命令：/sbin/iptables -I INPUT -p tcp --dport 3306 -j ACCEPT
2：需要开启tomcat访问的端口号，命令如下：
    /sbin/iptables -I INPUT -p tcp --dport 8080 -j ACCEPT

3：如果新增增量补丁，如下地方是需要重启tomcat服务的
    - 接口代码
    - 配置文件、属性文件
    - xml对应的sql语句
4：查看服务器mysql是否开启的命令
    ps -ef|grep mysql
</code></pre><h2 id="菜单管理"><a href="#菜单管理" class="headerlink" title="菜单管理"></a>菜单管理</h2><h3 id="跳转页面"><a href="#跳转页面" class="headerlink" title="跳转页面"></a>跳转页面</h3><pre><code>略，参考工程文件
</code></pre><h3 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h3><pre><code>略，参考工程文件
</code></pre><h3 id="增加、修改-1"><a href="#增加、修改-1" class="headerlink" title="增加、修改"></a>增加、修改</h3><pre><code>略，参考工程文件
</code></pre><h3 id="删除-1"><a href="#删除-1" class="headerlink" title="删除"></a>删除</h3><p>需求：</p>
<pre><code>1：如果菜单存在下一级菜单，则不允许删除
2：如果菜单已经被分配，则不允许删除
</code></pre><p>开发步骤：</p>
<pre><code>1://查询菜单ID，是否存在下一级菜单
2://查询菜单ID，是否存在权限分配
3://如果当前菜单ID，既不存在下一级菜单，又不存在权限分配，则可以直接删除成功
4://如果满足其中一条信息，则都不允许删除，返回错误信息
5://如果都不满足，删除成功
</code></pre><p>示例代码：</p>
<p>MenuController.java:</p>
<pre><code>/**
 * 菜单删除功能
 * 
 *     1：如果菜单存在下一级菜单，则不允许删除
 *    2：如果菜单已经被分配，则不允许删除
 *
 *  error1 = [菜单：用户管理，菜单管理]  存在下一级菜单信息，不允许删除
 *  error2 = [菜单：角色管理，部门管理]  存在权限分配，不允许删除
 *
 * @param request
 * @param ids 菜单主键ID，多个用逗号隔开
 * @return
 */
@RequestMapping(value = &quot;/menu/delete.do&quot;,method = RequestMethod.POST)
public @ResponseBody String deleteMenus(HttpServletRequest request,String ids){
    if (StringUtils.isNotBlank(ids)) {

        StringBuffer error1 = new StringBuffer();
        StringBuffer error2 = new StringBuffer();
        boolean ishasCh = false;
        boolean ishasrm = false;

        for (String id : ids.split(&quot;,&quot;)) {
            //查询菜单ID，是否存在下一级菜单
            if (menuService.isHasChiredMenu(id)) {//true:存在下一级菜单
                if (!ishasCh) {
                    ishasCh = true;
                }
                if (error1.length() == 0){
                    error1.append(&quot;[菜单：&quot;);
                }
                error1.append(menuService.queryMenuById(id) != null ?menuService.queryMenuById(id).getMenuname() : &quot;&quot; ).append(&quot;,&quot;);
                continue;
            }
            //查询菜单ID，是否存在权限分配
            if (menuService.isHasRoleMenu(id)) {//true:存在权限分配
                if (!ishasrm) {
                    ishasrm = true;
                }
                if (error2.length() == 0){
                    error2.append(&quot;[菜单：&quot;);
                }
                error2.append(menuService.queryMenuById(id) != null ?menuService.queryMenuById(id).getMenuname() : &quot;&quot; ).append(&quot;,&quot;);
                continue;
            }
            menuService.deleleMenuById(id);//如果当前菜单ID，既不存在下一级菜单，又不存在权限分配，则可以直接删除成功
        }

        //如果满足其中一条信息，则都不允许删除，返回错误信息
        if (ishasCh){
            error1.deleteCharAt(error1.length() - 1).append(&quot;]  存在下一级菜单信息，不允许删除&quot;);
        }
        if (ishasrm){
            error2.deleteCharAt(error2.length() - 1).append(&quot;]  存在权限分配，不允许删除&quot;);
        }
</code></pre><p>//            String msgbegin = ishasCh ? error1.toString() : “” + ishasrm ? ishasCh?error1.toString() : “”:”<br>“+error2.toString():””;</p>
<pre><code>        String msg = error1.toString()+error2.toString();

        if (StringUtils.isNotBlank(msg)) {
            return msg;
        }
        //如果都不满足，删除成功
        return ReturnConstants.SUCCESS;

    }
    return ReturnConstants.PARAM_NULL;

}
</code></pre><p>IMenuService.java:</p>
<pre><code>/**
 * 根据菜单主键ID，判断当前菜单是否存在下一级菜单
 * @param id 菜单主键ID
 * @return
 */
public boolean isHasChiredMenu(String id);

/**
 * 根据菜单主键ID，判断当前菜单是否存在权限分配
 * @param id 菜单主键ID
 * @return
 */
public boolean isHasRoleMenu(String id);


/**
 * 根据菜单id，查询菜单信息
 * @param id 主键ID
 * @return
 */
public Menu queryMenuById(String id);


/**
 * 根据主键ID，删除菜单信息
 * @param id
 */
public void deleleMenuById(String id);
</code></pre><p>MenuServiceImpl.java:</p>
<pre><code>public boolean isHasChiredMenu(String id) {
        Map&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();
        param.put(&quot;mid&quot;, id);
        List&lt;Menu&gt; list = menuDao.queryByStatment(&quot;isHasChiredMenu&quot;, param, null);
        if (list != null &amp;&amp; list.size() &gt; 0) {
            return true;
        }
        return false;
    }

    public boolean isHasRoleMenu(String id) {
        Map&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();
        param.put(&quot;mid&quot;, id);
        List&lt;Role_menu&gt; list = rmDao.queryByStatment(&quot;isHasRoleMenu&quot;, param, null);
        if (list != null &amp;&amp; list.size() &gt; 0) {
            return true;
        }
        return false;
    }

    public Menu queryMenuById(String id) {
        Map&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();
        param.put(&quot;mid&quot;, id);
        List&lt;Menu&gt; list = menuDao.queryByStatment(&quot;queryMenuById&quot;, param, null);
        if (list != null &amp;&amp; list.size() &gt; 0) {
            return list.get(0);
        }
        return null;
    }

    public void deleleMenuById(String id) {
        if (StringUtils.isNotBlank(id)) {
            menuDao.deleteByIds(Menu.class, id);
        }
    }
</code></pre><p>RoleMapper.xml:</p>
<pre><code>&lt;!-- 根据菜单ID，查询当前菜单是否存在下一级菜单信息 --&gt;
&lt;select id=&quot;isHasChiredMenu&quot; parameterType=&quot;java.util.Map&quot; resultType=&quot;com.hjcrm.system.entity.Menu&quot;&gt;
    select  m.menuid,m.menuname from hj_menu m where m.menuparaid = #{mid}
&lt;/select&gt;

&lt;!-- 根据菜单id，查询菜单信息 --&gt;
&lt;select id=&quot;queryMenuById&quot; parameterType=&quot;java.util.Map&quot; resultType=&quot;com.hjcrm.system.entity.Menu&quot;&gt;
    select  m.menuid,m.menuname from hj_menu m where m.menuid = #{mid}
&lt;/select&gt;

&lt;!-- 根据菜单ID，查询当前菜单是否存在权限分配 --&gt;
&lt;select id=&quot;isHasRoleMenu&quot; parameterType=&quot;java.util.Map&quot; resultType=&quot;com.hjcrm.system.entity.Role_menu&quot;&gt;
    select rm.id from hj_role_menu rm where rm.menuid = #{mid}
&lt;/select&gt;
</code></pre><h2 id="角色管理"><a href="#角色管理" class="headerlink" title="角色管理"></a>角色管理</h2><h3 id="跳转页面-1"><a href="#跳转页面-1" class="headerlink" title="跳转页面"></a>跳转页面</h3><pre><code>略，参考工程文件
</code></pre><h3 id="查询-1"><a href="#查询-1" class="headerlink" title="查询"></a>查询</h3><pre><code>略，参考工程文件
</code></pre><h3 id="增加、修改-2"><a href="#增加、修改-2" class="headerlink" title="增加、修改"></a>增加、修改</h3><pre><code>略，参考工程文件
</code></pre><h3 id="删除-2"><a href="#删除-2" class="headerlink" title="删除"></a>删除</h3><pre><code>略，参考工程文件
</code></pre><h3 id="权限分配"><a href="#权限分配" class="headerlink" title="权限分配"></a>权限分配</h3><p>需求：</p>
<pre><code>1：选中角色，点击【权限分配】，弹出分配框
2：展示所有的菜单信息，并树形分级展示
3：如果之前已经分配过的菜单，则自动勾选复选框
4：重新勾选菜单之后，点击【保存】按钮，则分配成功
</code></pre><p>开发步骤：</p>
<pre><code>1：查询所有菜单信息，并且已经分配过的菜单，复选框自动勾选

    - 查询所有菜单信息list
    - 查询已经分配过的菜单信息listch
    - 遍历list和listch，如果listch中的菜单ID在list中存在，则把list.get(i).setSelected(true);设置为true即可
    - 遍历list的子菜单信息，和listch对比ID，如果存在，则listchilere.get(j).setSelected(true);子菜单设置为true即可
    - 最终返回list的json格式数据


2：权限分配---保存菜单信息

    - 删除数据库中开始的角色对应的菜单信息
    - 保存一份最新的角色对应菜单信息数据即可
</code></pre><p>示例代码：</p>
<p>RoleController.java:</p>
<pre><code>/**
 * 角色管理模块
 * @author likang
 * @date   2018-4-24 下午3:18:49
 */
@Controller
public class RoleController extends BaseController{


    @Autowired
    private IRoleService roleService;
    @Autowired
    private IMenuService menuService;

    /**
     * 跳转角色管理页面
     * @param model
     * @return
     */
    @RequestMapping(value = &quot;/system/roleMang.do&quot;,method = RequestMethod.GET)
    public String roleManger(Model model){
        if (UserContext.getLoginUser() != null) {
            return JumpViewConstants.SYSTEM_ROLE_MANAGE;
        }
        return JumpViewConstants.SYSTEM_LOGIN;
    }

    /**
     * 查询角色信息列表
     * @param request
     * @param currentPage 第几页
     * @param pageSize 每页多少条
     * @return
     */
    @RequestMapping(value = &quot;/role/queryAllRole.do&quot;,method = RequestMethod.GET)
    public @ResponseBody String queryAllRoles(HttpServletRequest request,Integer currentPage,Integer pageSize){
        List&lt;Role&gt; list = roleService.queryAllRoles(processPageBean(pageSize, currentPage));
        return jsonToPage(list);
    }


    /**
     * 权限分配---查询所有菜单信息，并且已经分配过的菜单，复选框自动勾选
     * @param request
     * @param roleid
     * @return
     */
    @RequestMapping(value = &quot;/rolemenu/queryAllMenuAndSelected.do&quot;,method = RequestMethod.GET)
    public @ResponseBody String queryAllMenuAndSelected(HttpServletRequest request,String roleid){

        if (StringUtils.isNotBlank(roleid)) {
            //查询所有菜单信息
            List&lt;Menu&gt; list = menuService.queryAllMenus();//1,2,3,4,5,6---分级展示
            //查询已经分配过的菜单信息
            List&lt;Menu&gt; listch = menuService.queryAlMenuSeleted(roleid);//1,2,3---不分级

            if (listch != null &amp;&amp; listch.size() &gt; 0) {
                for (int i = 0; i &lt; list.size(); i++) {
                    Long listid = list.get(i).getMenuid();//上一级的菜单ID
                    for (int j = 0; j &lt; listch.size(); j++) {
                        Long listchid = listch.get(j).getMenuid();
                        if (listid == listchid) {
                            list.get(i).setSelected(true);
//                            continue;
                            break;
                        }
                    }
                }

                for (int i = 0; i &lt; list.size(); i++) {
                    List&lt;Menu&gt; listchilere = list.get(i).getChildren();//一级菜单的子菜单
                    for (int j = 0; j &lt; listchilere.size(); j++) {
                        Long listchilereID = listchilere.get(j).getMenuid();//子菜单的主键ID
                        for (int k = 0; k &lt; listch.size(); k++) {
                            Long listchid = listch.get(k).getMenuid();//所有的分配过的菜单ID
                            if (listchilereID == listchid) {
                                listchilere.get(j).setSelected(true);
                                break;
                            }
                        }
                    }
                }


            }
            //打钩
            return jsonToPage(list);
        }
        return ReturnConstants.PARAM_NULL;
    }


    /**
     * 权限分配---保存菜单信息
     *         思路：1：删除数据库中开始的角色对应的菜单信息
     *              2：保存一份最新的角色对应菜单信息数据即可
     * @param request
     * @param roleid
     * @param menuid
     * @return
     */
    @RequestMapping(value = &quot;/rolemenu/assignMenu.do&quot;,method = RequestMethod.POST)
    public @ResponseBody String assignMenu(HttpServletRequest request,String roleid,String menuid){
        if (StringUtils.isNotBlank(roleid)) {
            //删除数据库中开始的角色对应的菜单信息
            menuService.deleteRoleMenu(roleid);
            //2：保存一份最新的角色对应菜单信息数据即可
            Role_menu rm = new Role_menu();
            rm.setRoleid(Long.valueOf(roleid));
            for (String mid : menuid.split(&quot;,&quot;)) {
                rm.setMenuid(Long.valueOf(mid));
                menuService.saveRoleMenu(rm);
                rm.setMenuid(null);
            }
            return ReturnConstants.SUCCESS;
        }
        return ReturnConstants.PARAM_NULL;
    }




}
</code></pre><p>IMenuService.java:</p>
<pre><code>/**
 * 菜单管理接口
 * @author likang
 * @date   2018-4-24 下午3:00:35
 */
public interface IMenuService {

    /**
     * 查询所有菜单信息
     * @return
     */
    public List&lt;Menu&gt; queryAllMenus();

    /**
     * 新增、修改菜单信息
     * @param menu
     */
    public void saveOrUpdateMenu(Menu menu);


    /**
     * 查询当前角色已经分配过的菜单信息列表
     * @param roleid 角色ID
     * @return
     */
    public List&lt;Menu&gt; queryAlMenuSeleted(String roleid);

    /**
     * 根据角色ID，删除数据库中对应的菜单信息数据
     * @param roleid
     */
    public void deleteRoleMenu(String roleid);

    /**
     * 保存角色-菜单关系数据
     * @param rm
     */
    public void saveRoleMenu(Role_menu rm);
}
</code></pre><p>MenuServiceImpl.java:</p>
<pre><code>@Service
@Transactional(rollbackFor = Exception.class)
public class MenuServiceImpl implements IMenuService {

    @Autowired
    IDataAccess&lt;Menu&gt; menuDao;
    @Autowired
    IDataAccess&lt;Role_menu&gt; rmDao;

    public List&lt;Menu&gt; queryAllMenus() {
        Map&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();
        param.put(&quot;isparid&quot;, &quot;true&quot;);
        List&lt;Menu&gt; list = menuDao.queryByStatment(&quot;queryAllMenus&quot;, param, null);
        if (list != null &amp;&amp; list.size() &gt; 0) {
            for (int i = 0; i &lt; list.size(); i++) {
                Long menuid = list.get(i).getMenuid();
                param.clear();
                param.put(&quot;isparid&quot;, null);
                param.put(&quot;menuparaid&quot;, menuid);
                List&lt;Menu&gt; listch = menuDao.queryByStatment(&quot;queryAllMenus&quot;, param, null);
                list.get(i).setChildren(listch);
            }
        }

        return list;
    }

    public void saveOrUpdateMenu(Menu menu) {
        if (menu != null) {
            if (menu.getMenuid() != null) {//修改
                menu.setUpdate_id(UserContext.getLoginUser().getUserid());
                menu.setUpdate_time(new Timestamp(System.currentTimeMillis()));
                menuDao.update(menu);
            }else{//增加
                menu.setCreate_id(UserContext.getLoginUser().getUserid());
                menu.setCreate_time(new Timestamp(System.currentTimeMillis()));
                menuDao.insert(menu);
            }
        }
    }

    public List&lt;Menu&gt; queryAlMenuSeleted(String roleid) {
        Map&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();
        param.put(&quot;roleid&quot;, roleid);
        List&lt;Menu&gt; listch = menuDao.queryByStatment(&quot;queryAlMenuSeleted&quot;, param, null);
        return listch;
    }

    public void deleteRoleMenu(String roleid) {
        if (StringUtils.isNotBlank(roleid)) {
            Map&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();
            param.put(&quot;roleid&quot;, roleid);
            rmDao.deleteByStatment(&quot;deleteRoleMenu&quot;, param);
        }
    }

    public void saveRoleMenu(Role_menu rm) {
        if (rm != null) {
            rmDao.insert(rm);
        }
    }
}
</code></pre><p>RoleMapper.xml:</p>
<pre><code>&lt;mapper namespace=&quot;com.hjcrm.entity&quot;&gt;

    &lt;!-- 查询所有角色信息 --&gt;
    &lt;select id=&quot;queryAllRoles&quot; parameterType=&quot;java.util.Map&quot; resultType=&quot;com.hjcrm.system.entity.Role&quot;&gt;
          select 
            rm.roleid,r.rolename,rm.menuid, 
            group_concat(m.menuname separator &apos;,&apos;) menuname
        from hj_role_menu rm
        left join hj_role r on r.roleid = rm.roleid
        left join hj_menu m on m.menuid = rm.menuid
        group by r.rolename
    &lt;/select&gt;

    &lt;!-- 查询当前角色已经分配过的菜单信息列表 --&gt;
    &lt;select id=&quot;queryAlMenuSeleted&quot; parameterType=&quot;java.util.Map&quot; resultType=&quot;com.hjcrm.system.entity.Menu&quot;&gt;
          select
            rm.menuid,rm.roleid
        from hj_role_menu rm 
        where rm.roleid = #{roleid}
    &lt;/select&gt;

    &lt;delete id=&quot;deleteRoleMenu&quot; parameterType=&quot;java.util.Map&quot;&gt;
        delete from hj_role_menu where roleid=#{roleid}
    &lt;/delete&gt;
&lt;/mapper&gt; 
</code></pre><h2 id="CRM第三方缓存技术"><a href="#CRM第三方缓存技术" class="headerlink" title="CRM第三方缓存技术"></a>CRM第三方缓存技术</h2><p>开发步骤：</p>
<pre><code>1：在resource文件内，导入缓存的配置文件
2：在事务开启执行之前，使用注解，进行数据缓存
</code></pre><p>常用注解：</p>
<pre><code>//增加缓存
@Cacheable(value=&quot;baseCache&quot;,key=&quot;&apos;queryAllDepts&apos;&quot;)

    其中value代表存放的缓存区域块名称
    key:代表区域块中缓存的唯一标识,可有三种取值方式:
        1:使用普通的字符串   
        2:使用方法参数中参数值 #参数名称     
        3:使用方法中实体对象的属性

//更新缓存---写操作
@CachePut(value = &quot;&quot;,key = &quot;&quot;)
    不管缓存是否有数据，都会更新一遍

//更新缓存---根据条件更新
@CacheEvict(value  =&quot;&quot;,key=&quot;&quot;,allEntries=false,beforeInvocation = false)
    allEntries：true：更新所有的缓存区域块数据，false，则代表只会更新key值的数据
    beforeInvocation：true，代表是在方法执行之前进行更新数据，执行之后，不太操作缓存数据
</code></pre><p>示例代码：</p>
<pre><code>参考配置文件applicationContext-ehcache.xml和ecache.xml
</code></pre><p>applicationcontext.xml:</p>
<pre><code>&lt;!-- 引用外部配置文件信息 --&gt;
&lt;import resource=&quot;applicationContext-ehcache.xml&quot;/&gt;
</code></pre><p>DeptServceImpl.java:</p>
<pre><code>@Cacheable(value=&quot;baseCache&quot;,key=&quot;&apos;queryAllDepts&apos;&quot;)
public List&lt;Dept&gt; queryAllDepts() {
    List&lt;Dept&gt; list = deptDao.queryByStatment(&quot;queryAllDepts&quot;, null, null);
    return list;
}
</code></pre><h2 id="调度任务Quartz"><a href="#调度任务Quartz" class="headerlink" title="调度任务Quartz"></a>调度任务Quartz</h2><p>开发步骤：</p>
<pre><code>1:导入调度任务的配置模块文件
2：在spring的配置文件中，引入调度任务的配置信息
</code></pre><p>示例代码：</p>
<p>applicationcontext.xml:</p>
<pre><code>&lt;!-- 引用外部配置文件信息 --&gt;
&lt;import resource=&quot;applicationContext-quartz.xml&quot;/&gt;
</code></pre><p>applicationContext-quartz.xml：</p>
<pre><code>参考文件
</code></pre><p>注意：</p>
<pre><code>cron表达式，可以百度，找一个在线生成器生成即可
</code></pre><h3 id="百度编辑器（富文本编辑器）"><a href="#百度编辑器（富文本编辑器）" class="headerlink" title="百度编辑器（富文本编辑器）"></a>百度编辑器（富文本编辑器）</h3><pre><code>后台字段设计为：text
</code></pre><h2 id="自定义注解"><a href="#自定义注解" class="headerlink" title="自定义注解"></a>自定义注解</h2><pre><code>注解的注解：

    1.@Target,修饰的对象范围
    2.@Retention,保留的时间长短
    3.@Documented,标记注解 公共API 没有成员
    4.@Inherited  标记注解 @Inherited阐述了某个被标注的类型是被继承的

@Target说明了Annotation所修饰的对象范围
    1.CONSTRUCTOR:用于描述构造器
    2.FIELD:用于描述域
    3.LOCAL_VARIABLE:用于描述局部变量
    4.METHOD:用于描述方法
    5.PACKAGE:用于描述包
    6.PARAMETER:用于描述参数
    7.TYPE:用于描述类、接口(包括注解类型) 或enum声明

@Retention定义了该Annotation被保留的时间长短
    取值（RetentionPoicy）有：
        1.SOURCE:在源文件中有效（即源文件保留）
        2.CLASS:在class文件中有效（即class保留）
        3.RUNTIME:在运行时有效（即运行时保留）
</code></pre><p>代码示例：</p>
<p>Name.java:</p>
<pre><code>@Target(ElementType.FIELD)
@Retention(RetentionPolicy.RUNTIME)
public @interface Name {
    String nameValue() default &quot;java16&quot;;
}
</code></pre><p>NameEntity.java:</p>
<pre><code>public class NameEntity {

//    @Name(nameValue = &quot;java16-1&quot;)
    @Name
    private String username;
    private String phone;
    private String email;

    增加getter和setter方法
}
</code></pre><p>NameTest.java:</p>
<pre><code>public class NameTest {

    public static void main(String[] args) {
        getValue(NameEntity.class);
    }

    public static void getValue(Class clazz){

        if (clazz != null) {
            Field[] fields = clazz.getDeclaredFields();//获取对象属性
            for (Field field : fields) {
                if (field.isAnnotationPresent(Name.class)) {//判断当前field属性是否是Name注解
                    Name name = field.getAnnotation(Name.class);
                    System.out.println(name.nameValue());
                }
            }
        }
    }
}
</code></pre><h3 id="excel导入、导出"><a href="#excel导入、导出" class="headerlink" title="excel导入、导出"></a>excel导入、导出</h3><p>解析：POI</p>
<pre><code>本地---数据库
</code></pre><p>导入：</p>
<pre><code>1：读取本地excel文件
2：将文件上传到应用服务器tomcat
3：读取服务器中的excel文件数据，并将数据存放到数据库
</code></pre><p>导出：</p>
<pre><code>数据库---本地

1：获取要导出的数据
2：在应用服务器中创建一个空的excel文件，并将导出的数据写入
3：将应用服务器中excel文件，下载本地
</code></pre><h3 id="项目总结"><a href="#项目总结" class="headerlink" title="项目总结"></a>项目总结</h3><p><img src="https://i.imgur.com/Mu8amo4.png" alt=""></p>
<h2 id="简历"><a href="#简历" class="headerlink" title="简历"></a>简历</h2><p>简历标题：</p>
<pre><code>姓名-3年-Java工程师-本科.doc
</code></pre><p>个人信息</p>
<pre><code>姓   名：        出生年月：
籍   贯：        现居：
专   业：        学历：
手   机：        邮箱：
</code></pre><p>专业技能：</p>
<pre><code>注意关键词的大小写、分割、错别字、结尾符

1：基础、规范、模式
2：后台框架
3：前端框架
4：数据库
5：开发工具
6：应用服务器
7：开源技术（负载、并发、分布式）
8：linux
9：微服务

了解：就知道个名字
熟悉：知道这个名字做什么用
掌握：会调用
精通：工具类是自己写的，做过成果
具有：
</code></pre><p>项目经验：</p>
<pre><code>建议最少3个项目

项目名称：高大上的名称
项目规模：可选
项目技术：后台框架、前端框架、数据库、jdk版本、应用服务器、开源技术
开发工具：myeclipse、svn、linux、sqlyog、maven
项目描述：描述的是项目的业务背景和业务模块，没有技术实现过程（最少3行）
个人职责：描述的是做了哪些模块或者业务（没有技术过程）
个人心得：建议别写
</code></pre><p>工作经历：</p>
<pre><code>2016.9--至今      XXXX技术有限公司        JAVA开发工程师

工作职责：
    1：
    2：
    3：
</code></pre><p>教育经历：</p>
<pre><code>2016.9--2018.9     学校名称      专业    学历
</code></pre><p>个人评价：</p>
<pre><code>写和工作相关的评价
</code></pre>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/项目/" rel="tag"># 项目</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/04/22/ssm整合/" rel="next" title="ssm整合">
                <i class="fa fa-chevron-left"></i> ssm整合
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/05/18/工作日记-1/" rel="prev" title="工作日记-1">
                工作日记-1 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">AnJie</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">26</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/yourname" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:yourname@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://plus.google.com/yourname" target="_blank" title="Google">
                      
                        <i class="fa fa-fw fa-google"></i>Google</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#day01-linux"><span class="nav-number">1.</span> <span class="nav-text">day01-linux</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#day02"><span class="nav-number">2.</span> <span class="nav-text">day02</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#linux系统下部署tomcat"><span class="nav-number">2.1.</span> <span class="nav-text">linux系统下部署tomcat</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#前提"><span class="nav-number">2.1.0.1.</span> <span class="nav-text">前提</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#部署"><span class="nav-number">2.1.0.2.</span> <span class="nav-text">部署</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#启动"><span class="nav-number">2.1.0.3.</span> <span class="nav-text">启动</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#停止"><span class="nav-number">2.1.0.4.</span> <span class="nav-text">停止</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#开发工具搭建"><span class="nav-number">2.2.</span> <span class="nav-text">开发工具搭建</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#配置JDK"><span class="nav-number">2.2.0.1.</span> <span class="nav-text">配置JDK</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#配置Tomcat"><span class="nav-number">2.2.0.2.</span> <span class="nav-text">配置Tomcat</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#配置Maven"><span class="nav-number">2.2.0.3.</span> <span class="nav-text">配置Maven</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#开发工具快捷键"><span class="nav-number">2.2.1.</span> <span class="nav-text">开发工具快捷键</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DEBUG模式快捷键"><span class="nav-number">2.2.2.</span> <span class="nav-text">DEBUG模式快捷键</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#day03"><span class="nav-number">3.</span> <span class="nav-text">day03</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#企业类型、项目类型、企业IT组成"><span class="nav-number">3.1.</span> <span class="nav-text">企业类型、项目类型、企业IT组成</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#项目研发流程、人员搭配"><span class="nav-number">3.2.</span> <span class="nav-text">项目研发流程、人员搭配</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#发展路线"><span class="nav-number">3.3.</span> <span class="nav-text">发展路线</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常使用软件汇总"><span class="nav-number">3.4.</span> <span class="nav-text">常使用软件汇总</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BUG、需求变更如何处理（分析日志、定位问题）"><span class="nav-number">3.5.</span> <span class="nav-text">BUG、需求变更如何处理（分析日志、定位问题）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#如何部署补丁文件、如何上线"><span class="nav-number">3.6.</span> <span class="nav-text">如何部署补丁文件、如何上线</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据库、数据库服务器、框架、架构"><span class="nav-number">3.7.</span> <span class="nav-text">数据库、数据库服务器、框架、架构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#分布式、集群、高并发、负载、缓存、云端"><span class="nav-number">3.8.</span> <span class="nav-text">分布式、集群、高并发、负载、缓存、云端</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#小明的故事"><span class="nav-number">3.9.</span> <span class="nav-text">小明的故事</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#层次架构（技术选型）"><span class="nav-number">3.10.</span> <span class="nav-text">层次架构（技术选型）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#day04"><span class="nav-number">4.</span> <span class="nav-text">day04</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#技术架构"><span class="nav-number">4.1.</span> <span class="nav-text">技术架构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#负载架构"><span class="nav-number">4.2.</span> <span class="nav-text">负载架构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二维码工具类"><span class="nav-number">4.3.</span> <span class="nav-text">二维码工具类</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#项目1—–【CRM客户管理系统】"><span class="nav-number">5.</span> <span class="nav-text">项目1—–【CRM客户管理系统】</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#调研"><span class="nav-number">5.1.</span> <span class="nav-text">调研</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#产品"><span class="nav-number">5.2.</span> <span class="nav-text">产品</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#需求"><span class="nav-number">5.3.</span> <span class="nav-text">需求</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UI"><span class="nav-number">5.4.</span> <span class="nav-text">UI</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#开发"><span class="nav-number">5.5.</span> <span class="nav-text">开发</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#登录页面跳转"><span class="nav-number">5.5.1.</span> <span class="nav-text">登录页面跳转</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#登录"><span class="nav-number">5.5.2.</span> <span class="nav-text">登录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#登录功能-首页访问–完善功能"><span class="nav-number">5.5.3.</span> <span class="nav-text">登录功能-首页访问–完善功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#登录功能-cookie问题"><span class="nav-number">5.5.4.</span> <span class="nav-text">登录功能-cookie问题</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#退出功能"><span class="nav-number">5.6.</span> <span class="nav-text">退出功能</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#登录成功-权限管理-左侧菜单展示功能"><span class="nav-number">5.7.</span> <span class="nav-text">登录成功-权限管理-左侧菜单展示功能</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#页面展示："><span class="nav-number">5.7.0.1.</span> <span class="nav-text">页面展示：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#用户管理"><span class="nav-number">5.8.</span> <span class="nav-text">用户管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#页面跳转"><span class="nav-number">5.8.1.</span> <span class="nav-text">页面跳转</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#列表查询"><span class="nav-number">5.8.2.</span> <span class="nav-text">列表查询</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#增加、修改"><span class="nav-number">5.8.3.</span> <span class="nav-text">增加、修改</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#删除"><span class="nav-number">5.8.4.</span> <span class="nav-text">删除</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#页面展示"><span class="nav-number">5.8.5.</span> <span class="nav-text">页面展示</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#测试环境项目部署过程"><span class="nav-number">5.9.</span> <span class="nav-text">测试环境项目部署过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#菜单管理"><span class="nav-number">5.10.</span> <span class="nav-text">菜单管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#跳转页面"><span class="nav-number">5.10.1.</span> <span class="nav-text">跳转页面</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查询"><span class="nav-number">5.10.2.</span> <span class="nav-text">查询</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#增加、修改-1"><span class="nav-number">5.10.3.</span> <span class="nav-text">增加、修改</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#删除-1"><span class="nav-number">5.10.4.</span> <span class="nav-text">删除</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#角色管理"><span class="nav-number">5.11.</span> <span class="nav-text">角色管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#跳转页面-1"><span class="nav-number">5.11.1.</span> <span class="nav-text">跳转页面</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查询-1"><span class="nav-number">5.11.2.</span> <span class="nav-text">查询</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#增加、修改-2"><span class="nav-number">5.11.3.</span> <span class="nav-text">增加、修改</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#删除-2"><span class="nav-number">5.11.4.</span> <span class="nav-text">删除</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#权限分配"><span class="nav-number">5.11.5.</span> <span class="nav-text">权限分配</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CRM第三方缓存技术"><span class="nav-number">5.12.</span> <span class="nav-text">CRM第三方缓存技术</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#调度任务Quartz"><span class="nav-number">5.13.</span> <span class="nav-text">调度任务Quartz</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#百度编辑器（富文本编辑器）"><span class="nav-number">5.13.1.</span> <span class="nav-text">百度编辑器（富文本编辑器）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#自定义注解"><span class="nav-number">5.14.</span> <span class="nav-text">自定义注解</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#excel导入、导出"><span class="nav-number">5.14.1.</span> <span class="nav-text">excel导入、导出</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#项目总结"><span class="nav-number">5.14.2.</span> <span class="nav-text">项目总结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#简历"><span class="nav-number">5.15.</span> <span class="nav-text">简历</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">AnJie</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
